{#
  Parameters:
    items: (array of objects),
    icon_path: (string),
    toggle_collapsed: (string),
    toggle_expanded: (string),
    hide_from: (string),
    hide_to: (string)
#}

{% extends "@ecl-twig/ec-component-ecl-compliance/ecl-compliance.html.twig" %}

{% set message = '' %}
{% set component = 'timeline' %}
{% set no_item_timestamp_case = false %}

{% set no_items_case = items is empty or items is not iterable %}
{% if no_items_case == false %}
  {% for item in items %}
    {% if item.label is not defined or item.label is empty %}
      {% set no_item_timestamp_case = true %}
    {% endif %}
  {% endfor %}
{% endif %}

{% set not_compliant = no_items_case or no_item_timestamp_case %}
{% if no_items_case %}
  {% set message = message ~ ' "items" is mandatory, it needs to be an array of objects.' %}
{% endif %}
{% if no_item_timestamp_case %}
  {% set message = message ~ ' Each "item" of the timeline should contain a "label" property set and filled in as it represents the mandatory timestamp.' %}
{% endif %}
