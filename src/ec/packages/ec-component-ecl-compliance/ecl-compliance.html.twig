{% spaceless %}

{#
  Parameters:
  - "not-compliant" (boolean)
  - "message" (string)
  - "component" (string)
  - "variant" (string)
  - "icon_path" (string)

  Blocks:
  - "complaints"
  - "compliant"
#}

{# Internal properties #}

{% set _success_message = '' %}
{% set _identifier = component %}
{% if variant %}
  {% set _identifier = component ~ '--' ~ variant %}
{% endif %}
{% set _success_message = '[' ~ _identifier ~ '] - ecl compliant.' %}
{% set _message = '[' ~ _identifier ~ '] ' ~ message %}

{# Rendering #}

<!-- ################################################################################################################
    ecl2-compliance -->

{% if not_compliant %}
  {% block complaints %}
    {% if icon_path is defined and icon_path is not empty %}
      <span class="ecl-u-type-color-red ecl-u-d-inline-flex" title="{{ _message|raw }}">
      {% include '@ecl-twig/ec-component-icon/ecl-icon.html.twig' with {
          icon: { type: 'notifications', name: 'error', size: 'xs', path: icon_path },
        } only %}
      </span>
    {% else %}
    <div
      class="ecl2-compliance ecl-u-border-width-1 ecl-u-mt-xl ecl-u-border-color-red ecl-u-border-style-solid ecl-u-ma-xs ecl-u-pr-s ecl-u-bg-white"
    >
      <p class="ecl-u-type-color-grey ecl-u-ml-m ecl-u-type-xs">
        {{- _message|raw -}}
      </p>
    </div>
  {% endif %}
  {% endblock %}
{% else %}
  {% block compliant %}
    {% if icon_path is defined and icon_path is not empty %}
      <span class="ecl-u-type-color-green ecl-u-d-inline-flex" title="{{ _success_message|raw }}">
      {% include '@ecl-twig/ec-component-icon/ecl-icon.html.twig' with {
          icon: { type: 'notifications', name: 'success', size: 'xs', path: icon_path },
        } only %}
      </span>
    {% else %}
      <div
        class="ecl2-compliance ecl-u-border-width-1 ecl-u-border-color-green ecl-u-border-style-solid ecl-u-ma-xs ecl-u-pr-s ecl-u-bg-white"
      >
        <p class="ecl-u-type-color-grey ecl-u-ml-s ecl-u-type-xs">
          {{- _success_message|raw -}}
        </p>
      </div>
    {% endif %}
  {% endblock %}
{% endif %}

{% endspaceless %}
