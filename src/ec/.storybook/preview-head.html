<link
  rel="stylesheet"
  href="https://cdn1.fpfis.tech.ec.europa.eu/ecl/v2.29.0/ec-preset-legacy-website/styles/ecl-ec-preset-legacy-website.css"
  integrity="sha256-f2iErMHhPaFGuNthLhb5WEhyo2xmygexbizsqConYL0=
  sha384-kot8sxhbq4IbFTidQTC8BuJ1cNc0QcLFololGAQVKnBVH0g66WR+R/gQuZkKVB4g
  sha512-gJj7BL4U0dkqCQUSlzyK/mGDPucPsea1ApqrIW0+X8Y5boFIxAzYWskXjFEeRd0oyCpRKnK/PUA6/Gy1u+/20A=="
  crossorigin="anonymous"
  media="screen"
/>
<link
  rel="stylesheet"
  href="https://cdn1.fpfis.tech.ec.europa.eu/ecl/v2.29.0/ec-preset-legacy-website/styles/ecl-ec-preset-legacy-website-print.css"
  integrity="sha256-F2qUzT9VLcOuL9GN/vPEHUIoQSg9pWizPpzJauIX2z8=
  sha384-bzUDqvwgpMR/huWgU3kueK6D63CZ4MbpbWcJ5PvXJkzbd3ttiNO3e0CdCZz5sLdz
  sha512-Tup9Dt2s9p4Al1vlR6GpmNQ5wljuj20LPFVGDor8Q47/k1RKOfBGPFXKS8ABjXHG1v7jmOJiHzQvNf2PeC+jdA=="
  crossorigin="anonymous"
  media="print"
/>
<link
  rel="stylesheet"
  href="https://unpkg.com/tippy.js@6/animations/scale-extreme.css"
/>
<link rel="stylesheet" href="https://unpkg.com/tippy.js@6/dist/svg-arrow.css" />
<script
  src="https://cdn1.fpfis.tech.ec.europa.eu/ecl/v2.29.0/ec-preset-legacy-website/scripts/ecl-ec-preset-legacy-website.js"
  integrity="sha256-axHUBVLGspLiJxp/FQPOMyHd2SIFDz1qJDlJdLjFnf8=
  sha384-mHSmPF+Vdi0eS8LXmFbVPf/IvsFh0prhKeD9lvFpqY7GU7xd9fKn2iVNTkpK6pp5
  sha512-ApIrXmjyVSsx6BSQkZ2IYVo5u2Ru8vWOP0Kb19/6FvMQU3PcFV4vDbDzr0AoM4yeF15dTTTP5C0AcuqQIUAORQ=="
  crossorigin="anonymous"
></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-polyfill/7.8.3/polyfill.min.js"></script>
<script src="https://unpkg.com/svg4everybody@2.1.9/dist/svg4everybody.min.js"></script>
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/tippy.js@6"></script>
<style>
  .tippy-box {
    color: white;
    font-family: arial, sans-serif;
    padding: 0.25rem;
    font-weight: 600;
  }
  .tippy-box[data-theme~='ecl-compliance-success'] {
    background-color: #467a39;
  }
  .tippy-box[data-theme~='ecl-compliance-success'] > .tippy-svg-arrow {
    fill: #467a39;
  }
  .tippy-box[data-theme~='ecl-compliance-failure'] {
    background-color: #da2131;
  }
  .tippy-box[data-theme~='ecl-compliance-failure'] > .tippy-svg-arrow {
    fill: #da2131;
  }
</style>
<script>
  // https://github.com/storybookjs/storybook/issues/6113#issuecomment-473965255
  function runOnPageChange() {
    ECL.autoInit();

    if ((complianceReps = document.querySelectorAll('.ecl-compliance-inner'))) {
      tippy.setDefaultProps({
        interactive: true,
        animation: 'scale-extreme',
        arrow: tippy.roundArrow,
      });
      complianceReps.forEach(e => {
        if (e.hasAttribute('title')) {
          e.setAttribute('data-tippy-content', e.getAttribute('title'));
          e.removeAttribute('title');
        }
      });
      tippy('.ecl-compliance-success', { theme: 'ecl-compliance-success' });
      tippy('.ecl-compliance-failure', { theme: 'ecl-compliance-failure' });
    }
  }

  document.addEventListener(
    'DOMContentLoaded',
    function() {
      const callback = function(mutationsList) {
        for (let i = 0, len = mutationsList.length; i < len; i++) {
          if (mutationsList[i].type == 'childList') {
            runOnPageChange();
            break;
          }
        }
      };
      const observer = new MutationObserver(callback);
      const config = { childList: true, subtree: false };
      observer.observe(document.getElementById('root'), config);
    },
    false
  );
  svg4everybody();
</script>
